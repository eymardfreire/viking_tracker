import sys
import os
import click
from news.news_fetcher import fetch_latest_news


# Add the src directory to the PYTHONPATH
sys.path.append(os.path.join(os.path.dirname(__file__), 'src'))

VIKINGS_ASCII_ART = """
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::==::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::-#@%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::-%%%#::::::::::-=++******++=-::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::%%:*@-::::-=*###**++++++++**###*=::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::+@+:-%%--+##*+==++*********++===+#%#=:::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::#%=-::*%@#==+**################*+=-+#%+:::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::%#=--::-*#%%%####**###############*+-=#%=:::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::#%==---:::-+*##%%%##*#####*#*#****###+-+%#::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::=@*==-----::::::-+#%###################==%%=::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::+@*==---------::::+@%###############*#%%###%=::::::::::::::::::::::::::::::
:::::::::::::::::::::::::-%@%+===---------::*@#*######********#%#:-:*@-:::::::::::::::::::::::::::::
:::::::::::::::::::::::::#@#%@%*+====-----::=@#*###**##########%%#@##@#:::::::::::::::::::::::::::::
::::::::::::::::::::::::=@##%%%%@%##*====:::#%###*##%%%%%%%%%%%%@%===#@=::::::::::::::::::::::::::::
::::::::::::::::::::::::+@##%%%%%@*+%%-:::=#%#*#*#%%####%%%%%%%@@%####*-::::::::::::::::::::::::::::
::::::::::::::::::::::::*@##%%%%%%%%%@**#%%%#**##%%#*%@@@@@@@%##@=:::::::::::::::::::::::::::::::::
::::::::::::::::::::::::+@##%%%%%%%%%#####****#%@%#*%@@@@@@%+::-@+:::::::::::::::::::::::::::::::::
::::::::::::::::::::::::=@##%%%%%%%##****###*#%%#%%#*@@@@@@+:::+@%+++++++=:::::::::::::::::::::::::
:::::::::::::::::::::::::#@#%%%%%%%#***#%@@@%%%#*##%%#%@@@@*::::+#@*+++++#@=::::::::::::::::::::::::
:::::::::::::::::::::::::-%%#%%%%%%#***#@@@@@#*****#%@%@@@%*****+#@*+++++*@+::::::::::::::::::::::::
::::::::::::::::::::::::::*@%%%%%%%%#***#%%%#*******#@%@#-=======+@#+%@++*@+::::::::::::::::::::::::
::::::::::::::::::::::::::-@%++*%%%%%###******####**#@#+@+::::::::%#:#%::=@+::::::::::::::::::::::::
:::::::::::::::::::::::::::=%*==+#@@%%%%####**#####*#@+:+@*:::::::#%-%#::*@-::::::::::::::::::::::::
::::::::::::::::::::::::::::-****+**#@%%%%%%%%#%%###@#:::-#%+-::::=@#@=:-@*:::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::=*%%%%%%%%%%%%#+::::::=#%#+=-=@@*:+%#::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::-+*####**+-:::::::::::=**##%*-##=:::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

"""

def main_menu():
    click.echo(VIKINGS_ASCII_ART)
    click.echo("Welcome to VikingTracker!")
    click.echo("Select an option from the menu:")
    click.echo("1. Latest News")
    click.echo("2. Player Information (Under Development)")
    click.echo("3. Team Stats (Under Development)")
    click.echo("4. Team History (Under Development)")
    click.echo("5. Exit")

    option = click.prompt("Enter your choice", type=int)

    if option == 1:
        fetch_latest_news()
        go_back_to_menu()
    elif option == 2:
        click.echo("Player Information is under development, check back later.")
        go_back_to_menu()
    elif option == 3:
        click.echo("Team Stats is under development, check back later.")
        go_back_to_menu()
    elif option == 4:
        click.echo("Team History is under development, check back later.")
        go_back_to_menu()
    elif option == 5:
        click.echo("Exiting...")
    else:
        click.echo("Invalid option, please try again.")
        main_menu()

def go_back_to_menu():
    click.echo("\nSelect an option from the menu:")
    click.echo("1. Back to Main Menu")
    click.echo("2. Exit")
    
    option = click.prompt("Enter your choice", type=int)
    
    if option == 1:
        main_menu()
    elif option == 2:
        click.echo("Exiting...")
    else:
        click.echo("Invalid option, please try again.")
        go_back_to_menu()

if __name__ == "__main__":
    main_menu()